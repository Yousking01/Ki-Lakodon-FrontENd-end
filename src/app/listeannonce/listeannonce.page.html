<!-- <ion-header>
  <ion-toolbar>
    <ion-title>listeannonce</ion-title>
  </ion-toolbar>
</ion-header>

 -->
 <!-- <ion-content id="#hearder">
<ion-card id="#form">

  <ion-item color="tertiary" lines="none">
      <ion-icon name="cafe" slot="start"></ion-icon>
      <ion-icon name="more" slot="end"></ion-icon>
  </ion-item>
  <ion-item color="tertiary" lines="none">
      <ion-label>
          ion-item in a card,
      </ion-label>
  </ion-item>

</ion-card>
 </ion-content> -->
 <ion-header [translucent]="true" class="header">
  <ion-toolbar color="">
    <ion-buttons slot="start" class="menu_btn">
      <ion-back-button defaultHref="#" color="primary"></ion-back-button>
    </ion-buttons>
    <ion-title style="--text-color: #000;">
      Liste Annonces
    </ion-title>
    <ion-icon name="notifications-outline" slot="end" style="height: 20px; width: 20px;     height: 20px;
    width: 20px;
    font-size: 45px;
    position: relative;
    margin-right: 30px;
    color: black;
    z-index: 111;" ></ion-icon>
    <ion-badge id="notifications-badge-msg" color="danger">3</ion-badge>
    <img src="../../assets/logo.PNG" class="imagee" slot="end" alt="" routerLink="/connexion">
    <ion-icon class="sig1" (click)="logout()" slot="end" name="log-out-outline" ></ion-icon>
  </ion-toolbar>
</ion-header>

 <ion-content id="#hearder">
  <!-- <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content
      pullingIcon="chevron-down-circle-outline"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Rechargement...">
    </ion-refresher-content>
  </ion-refresher> -->
  <!-- refreshpage -->
  <!-- <ion-refresher slot="fixed" (ionRefresh)="methodForPullDownRefresh($event)">
    <ion-refresher-content 
    
    pullingText="Pull to refresh"
    refreshingSpinner="circles"
    refreshingText="Rechargement...">

    </ion-refresher-content>
  </ion-refresher> -->
  
  <!-- <ion-icon class="ARROW" name="arrow-back-outline"></ion-icon> -->
  <ion-back-button defaultHref="#" class="ARROW"></ion-back-button>
  <!-- <ion-icon class="search" name="search-outline"></ion-icon> -->
  <!-- <ion-icon class="regle" name="options-outline"></ion-icon> -->
<ion-card class="card1">
 
  <p class="titree">Annonces</p>
  <ion-button name="add" class="ajouter" routerLink="/ajout-annonce">
    <!-- <ion-icon name="add-circle-outline"></ion-icon> -->
    add
  </ion-button>
</ion-card>
<!-- <ion-card class="card2"> -->
  <!-- <ion-card class="card3">
   <a href="#"><ion-icon name="filter-outline"></ion-icon></a>
    <a href="#"><ion-icon name="search-outline"></ion-icon></a>
    <a href="#"><ion-icon name="create-outline"></ion-icon></a>
    <a href="#"><ion-icon name="trash-outline"></ion-icon></a>
  </ion-card> -->
  <!-- <ion-card class="card4">

  </ion-card> -->
<!-- </ion-card> -->
<p class="liste">Liste des Annonces reçu</p>


<ion-card id="#form" class="card" *ngFor="let annonce of ListeAnnonce, let i = index">

   <ion-item color="tertiary" lines="none" class="cardin" >
      <!-- <ion-icon name="cafe" slot="start"></ion-icon> -->
      <img slot="start" src="../../assets/{{annonce?.image}}" alt="" class="imageA">
      <h1 class="nom">{{annonce?.titreannonce}}</h1>
      <ion-icon name="trash-outline" slot="end" (click)="suprimerannonce(annonce.idannonce)"></ion-icon>
  </ion-item>
 
 <ion-item color="tertiary" lines="none" class="card2">
      <ion-label class="label" *ngIf="annonce?.nomsitepopulaire">
        <!--  -->
          ANNONCEUR: {{annonce?.annonceur.username}}, <br>
          <img class="logosite" src="../../assets/{{annonce.siteWebPopulaires[i]?.image}}" alt="cible de diffusion">
        Site: {{annonce.siteWebPopulaires[i]?.nomsitepopulaire}}
      </ion-label>
      <!-- <ion-button id="open-modal" expand="block">Open</ion-button> -->

      <ion-icon name="create-outline"  id="open-modal"  slot="end"></ion-icon>
  </ion-item>

  <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Retour</ion-button>
          </ion-buttons>
          <ion-title>Modifier votre Annonces</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="modifierannonce(annonce.idannonce)" [strong]="true">Confirmer</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <!-- <ion-item> -->
          <h1>Remplis le formulaire de publicité</h1>
          <ion-label position="stacked" class="label">Nom de l'annonce</ion-label>
          <ion-input class="input" [(ngModel)]="titreannonce" name="titreannonce" type="text" placeholder="Nom de l'annonce"></ion-input>

          <ion-select class="label" interface="popover" placeholder="selectionner un annonceur" [(ngModel)]="idannonceur" name="idannonceur" >
            <ion-select-option class="input" *ngFor="let idannonceur of ListeAnnonceur" value="{{idannonceur.id}}">{{idannonceur.username}}</ion-select-option>
          </ion-select>

          <ion-label class="label1">Date de Debut</ion-label>
          <ion-input class="input1" [(ngModel)]="dateDebut" name="dateDebut" type="Date" placeholder="Samedi, 30 decembre"></ion-input>

          <ion-label class="label2">Date de Fin</ion-label>
          <ion-input class="input2" [(ngModel)]="dateFin" name="dateFin" type="Date" placeholder="Samedi, 30 decembre"></ion-input>
          
          <ion-label class="label3">Description de l'annonce</ion-label>
          <ion-input class="input3" [(ngModel)]="descriptionannonce" name="descriptionannonce" type="text" placeholder="Donner la description de votre annonce...."></ion-input>
          <br>
          <ion-list>
            <h1 class="diffusion">Site de Publicité</h1>
            <ion-item>
              <ion-select placeholder="Select all fruits that apply" [multiple]="true" [(ngModel)]="idsitepopulaire" name="idsitepopulaire">
                <ion-select-option >{{annonce.siteWebPopulaires[i]?.nomsitepopulaire}}</ion-select-option>
                
              </ion-select>
            </ion-item>
          </ion-list>

          <ion-input class="dowload" type="file"  (change)="recupereImage($event)" name="image">
            <!-- <ion-icon  class="up" name="cloud-upload-outline"></ion-icon> -->
            <!-- <p class="tele">Télécharger un fichier</p> -->
            </ion-input>
            <br>
              <!-- <ion-label position="stacked">Enter your name</ion-label>
              <ion-input type="text" placeholder="Your name" [(ngModel)]="name"></ion-input> -->
            <!-- </ion-item> -->
        
        
      </ion-content>
    </ng-template>
  </ion-modal>
  
  <!-- <ion-list >
    <ion-item *ngFor="let annonce of ListeAnnonce">
      <ion-thumbnail slot="start">
        <img src="{{annonce.image}}" />
      </ion-thumbnail>
      <ion-label>
        <h2>{{annonce.titreannonce}}</h2>
        <p>{{annonce.descriptionannonce}}</p>
        <p>Nombre de place: {{annonce.budgetannonce}}</p>
        <p>Etage: {{annonce.dateDebut}}</p>
        <p>Numero: {{annonce.dateDebut}}</p>
        <!-- <p>Disponibilité: {{annonce.disponibilite}}</p> -->
      <!-- </ion-label>
    </ion-item>
  </ion-list>  -->
</ion-card>




</ion-content>

